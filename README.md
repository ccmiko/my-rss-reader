# RSS Readerを自作しよう！！

* RSSは衰退したと考える人もいる。（と思う。世の中、そもそも認知してない人も多いんじゃないの！？）
* 2024年現在、Twitterの有料化に伴う0円でSNSで受動的に幅広い技術情報を受け取る仕組みの消失など、RSSの使用に立ち戻るべき機会は増えたと感じる。（個人の感想）
  * 正確には消失してないですが、私は技術垢と趣味垢を分けているので、Deckが有料になり不便だなぁ実質消失だなぁと思います・・・
  * 他SNSへの移行、興味がある製品のコミュニティに参加する等の手段もあるが、幅広く使用できる情報収集テクニックが消滅したのは事実だと考えている。
* エンジニアが一般的に広く使われているサービスを、つまりはその気になったら外部のRSS Readerサービスを使用できるのは当然である。
* では、仕組みを理解して自分で作成することは？
* そういったことができるエンジニアの方が採用したいと思わないか？ってか、ここまで考えたらもう自分で作りたくないか？
* 自分で作って理解したいじゃん？と思った（KONAMI館）

## 機能

* RSSフィードURLと、URL毎にサービス名とRSSフィード読み込み実行の呼び出しキー名を登録できる
* 登録した情報を一覧参照できる
  * 登録日時・と履歴（更新回数/更新日時）も参照できる
* 登録した情報を編集できる（更新・削除）
* RSSフィード読み込みのリクエストを受け取ったとき、1度しか読み込みしない
  * 定期実行は呼び出し元で管理する
* 指定したRSSフィード1件の読み込みができる
* 指定したRSSフィード1+N件の読み込みができる
* 指定したRSSフィード全件の読み込みができる
* 初回は登録時に読み込んでDB登録を行い、以降は差分を見てレスポンスを返す
* 指定したRSSフィードの過去の投稿一覧を取得できる

## データの登録先

* プロトタイプの段階では、CouchDBを使用する。
  * RDBは使用しない。今までも実務で使用したことが多くある && とくに強い一貫性は求めていないため。
  * 小規模アプリで、NoSQLで、強い一貫性が求められなくて、無料で使用できるため
  * 参考: [DB-engines](https://db-engines.com/en/ranking)

## 方針

* 外部から実行のリクエストを受けて、定期実行できる形にする。
  * 「アプリを直接起動」「HTTPリクエストを受けて起動」の2パターンに対応する。
  * 直接起動はエントリーポイントを1つとして、引数で実行する処理を分岐させる。
  * HTTPリクエストは、呼び出し元が柔軟にリクエストパラメータをカスタマイズできるとは限らないため、RESTかなぁ。GraphQL/gRPCだと呼び出しづらそう（未定）
  * どちらの方法でも全ての機能を利用できるようにする。
  * HTTPリクエストはAPIキー認証かIP制限かベーシック認証か行う形にするかも（未定）
* 「ライブラリとして他のアプリに組み込む」はとりあえずなしで。
* 「インラクティブなCLIとして実行できる」はとりあえずなしで。
* 特定のFaaSでのデプロイを想定した作り込みは行わない。
  * そうしたくなった場合は、エントリーポイントのラッパーを作成する。
* ロギングはコンソール出力とする。ファイル出力はしない。
* （少なくともプロトタイプの段階では）UIは作成しない。

## 実行

例

```shell
npm run debug -- --mode cli --crud c --params '{"test": "value"}'
```
